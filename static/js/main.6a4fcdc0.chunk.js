(this["webpackJsonpinquire-test"]=this["webpackJsonpinquire-test"]||[]).push([[0],{33:function(n,e,t){},41:function(n,e,t){},42:function(n,e,t){"use strict";t.r(e);var o,r,c,i,a,d,s=t(0),u=t(16),b=t.n(u),p=(t(33),t(6)),l=t(12),j=t(5),x=t(3),O=t(4),f=O.a.div(o||(o=Object(x.a)(["\n  border: 2px solid #5ec4cd;\n  background: #e9f3f5;\n  border-radius: 14px;\n  padding: 20px;\n  margin-bottom: 12px;\n  position: relative;\n  :last-of-type {\n    margin-bottom: 0;\n  }\n"]))),h=O.a.h3(r||(r=Object(x.a)(["\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.4;\n  color: #015c65;\n  padding: 0 12px 0 0;\n  margin: 0;\n"]))),m=O.a.div(c||(c=Object(x.a)(["\n  padding: 12px 0;\n"]))),g=O.a.p(i||(i=Object(x.a)(["\n  font-size: 18px;\n  line-height: 1.4;\n  padding-bottom: 20px;\n"]))),v=O.a.button(a||(a=Object(x.a)(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  padding: 0 4px;\n  border: 2px solid #bf7330;\n  border-radius: 4px;\n  background: #ffb573;\n  cursor: pointer;\n"]))),y=Object(O.a)(l.b)(d||(d=Object(x.a)(["\n  text-decoration: none;\n  border: 2px solid #2f6065;\n  border-radius: 14px;\n  background: #77bcc3;\n  padding: 12px 24px;\n  color: #2f6065;\n  cursor: pointer;\n  :hover {\n    background: #287e86;\n  }\n"]))),E="https://bloggy-api.herokuapp.com/posts",S=new Headers;S.append("Content-Type","application/json");var C,T,k,_="comments/SET_COMMENTS_LIST",w="posts/FETCH_LIST_OF_POSTS",P="posts/FETCH_LIST_OF_POSTS_SUCCESS",L="posts/FETCH_LIST_OF_POSTS_ERROR",D="posts/DELETE_SELECTED_POST",F="posts/FETCH_SELECTED_POST",R="posts/FETCH_SELECTED_POST_SUCCESS",B="posts/FETCH_SELECTED_POST_ERROR",N=function(){return function(n){n({type:w}),fetch(E).then((function(n){if(n.ok)return n.json();throw new Error("can not load data")})).then((function(e){n({type:P,payload:e})})).catch((function(e){return n({type:L,payload:e})}))}},H=function(n){return function(e){n?(e({type:F}),function(n){return fetch("".concat(E,"/").concat(n,"?_embed=comments")).then((function(n){if(n.ok)return n.json();throw new Error("No post with this id")}))}(n).then((function(n){var t;e({type:R,payload:n}),e((t=n.comments,{type:_,payload:t}))})).catch((function(n){return e({type:B,payload:n})}))):e({type:R,payload:null})}},I=function(n,e){return function(t){(function(n,e){var t={method:"PUT",body:JSON.stringify(e),headers:S};return fetch("".concat(E,"/").concat(n),t)})(n,e).then((function(){t(H(n))}))}},J=function(n){return function(e){n&&function(n){var e={method:"DELETE",headers:S};return fetch("".concat(E,"/").concat(n),e)}(parseInt(n,10)).then((function(){e({type:D,payload:n})}))}},z=function(n,e){return function(t){(function(n){var e=JSON.stringify(n);return fetch(E,{method:"POST",body:e,headers:S})})({title:n,body:e}).then((function(n){return n})).then((function(){t(N())}))}},M=t(1),U=function(n){var e=n.postContent,t=e.id,o=e.body,r=e.title,c=Object(p.b)();return Object(M.jsxs)(f,{className:"post",children:[Object(M.jsx)(m,{className:"post__title",children:Object(M.jsx)(h,{children:r})}),Object(M.jsx)(g,{className:"post__body",children:o}),Object(M.jsx)(v,{type:"button",onClick:function(){c(J(e.id))},children:"X"}),Object(M.jsx)(y,{to:"post/".concat(t),children:"Show details"})]})},W=function(){var n=Object(p.c)((function(n){return n.posts})),e=n.listOfPosts,t=n.error,o=n.isLoading,r=Object(p.b)();return Object(s.useEffect)((function(){r(N())}),[r]),o?Object(M.jsx)("h1",{children:"LOADER"}):t?Object(M.jsx)("h1",{children:t.toString()}):e.length&&e.map((function(n){return Object(M.jsx)(U,{postContent:n},n.id)}))},q=t(27),V=O.a.label(C||(C=Object(x.a)(["\n  line-height: 1.5;\n  font-size: 18px;\n  font-weight: 500;\n  color: #015C65;\n"]))),A=O.a.textarea(T||(T=Object(x.a)(["\n  display: block;\n  margin: 8px 0;\n  width: 100%;\n  height: 100px;\n  border-radius: 14px;\n  border: 2px solid #5EC4CD;\n  padding: 10px;\n  color: #015C65;\n    :active,\n    :focus {\n      border-radius: 14px;\n      border: 2px solid #028E9B;\n      outline: none;\n    }\n"]))),X=O.a.button(k||(k=Object(x.a)(["\n  padding: 12px 24px;\n  background: #FFB573;\n  border: 2px solid #BF7330;\n  border-radius: 14px;\n  cursor: pointer;\n  :hover {\n    background: #d08140;\n  }\n"]))),G=new Headers;G.append("Content-Type","application/json");var K,Q,Y,Z,$,nn,en,tn,on,rn,cn,an,dn,sn=function(){var n=Object(j.g)().id,e=Object(p.c)((function(n){return n.posts})).selectedPost,t=Object(s.useRef)("null"),o=Object(p.b)();return Object(M.jsxs)("form",{onSubmit:function(r){r.preventDefault(),t.current.value&&function(n){var e=JSON.stringify(n);return fetch("https://bloggy-api.herokuapp.com/comments",{method:"POST",body:e,headers:G})}({postId:e.id,body:t.current.value}).then((function(){o(H(n))}))},children:[Object(M.jsxs)(V,{htmlFor:"newComment",children:["Write a comment",Object(M.jsx)(A,{name:"comment",id:"newComment",rows:"3",placeholder:"Comment",ref:t})]}),Object(M.jsx)(X,{type:"submit",children:"Send a comment"})]})},un=O.a.div(K||(K=Object(x.a)(["\n  font-size: 16px;\n  line-height: 1.4;\n  background: #fde8d3;\n  border-radius: 14px;\n  margin: 12px 0;\n  padding: 12px;\n"]))),bn=function(n){var e=n.commentData.body;return Object(M.jsx)(un,{children:e})},pn=function(){var n=Object(p.c)((function(n){return n.comments})).comments;return Object(M.jsx)("div",{children:n.length>0&&n.map((function(n){return Object(M.jsx)(bn,{commentData:n},n.id)}))})},ln=O.a.form(Q||(Q=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),jn=O.a.input(Y||(Y=Object(x.a)(["\n  margin: 8px 0;\n  width: 100%;\n  border-radius: 14px;\n  border: 2px solid #5ec4cd;\n  padding: 10px;\n  color: #015c65;\n  :active,\n  :focus {\n    border-radius: 14px;\n    border: 2px solid #028e9b;\n    outline: none;\n  }\n"]))),xn=O.a.textarea(Z||(Z=Object(x.a)(["\n  margin: 8px 0;\n  width: 100%;\n  border-radius: 14px;\n  border: 2px solid #5ec4cd;\n  padding: 10px;\n  color: #015c65;\n  :active,\n  :focus {\n    border-radius: 14px;\n    border: 2px solid #028e9b;\n    outline: none;\n  }\n"]))),On=O.a.button($||($=Object(x.a)(["\n  padding: 12px 24px;\n  background: #ffb573;\n  border: 2px solid #bf7330;\n  border-radius: 14px;\n  cursor: pointer;\n\n  :hover {\n    background: #d08140;\n  }\n"]))),fn=function(){var n=Object(j.g)().id,e=Object(p.c)((function(n){return n.posts})).selectedPost,t=e.title,o=e.body,r=Object(p.b)(),c=Object(s.useRef)(null),i=Object(s.useRef)(null);return Object(M.jsxs)(ln,{onSubmit:function(e){e.preventDefault(),c.current.value&&i.current.value&&r(I(n,{title:c.current.value,body:i.current.value}))},children:[Object(M.jsx)(jn,{type:"text",id:"postEditorTitle",defaultValue:t,ref:c}),Object(M.jsx)(xn,{name:"",id:"postEditorBody",rows:"10",defaultValue:o,ref:i}),Object(M.jsx)(On,{type:"submit",children:"Edit"})]})},hn=Object(O.a)(l.b)(nn||(nn=Object(x.a)(["\n  text-decoration: none;\n  color: black;\n"]))),mn=O.a.div(en||(en=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),gn=O.a.button(tn||(tn=Object(x.a)(["\n  text-decoration: none;\n  border: 2px solid #2f6065;\n  border-radius: 14px;\n  background: #77bcc3;\n  padding: 12px 24px;\n  color: #2f6065;\n  margin-left: auto;\n  margin-right: 12px;\n  cursor: pointer;\n  :hover {\n    background: #287e86;\n  }\n"]))),vn=O.a.button(on||(on=Object(x.a)(["\n  text-decoration: none;\n  border: 2px solid darkred;\n  border-radius: 14px;\n  background: #ea6161;\n  padding: 12px 24px;\n  color: #2f6065;\n  cursor: pointer;\n\n  :hover {\n    background: #b32b2b;\n  }\n"]))),yn=function(){var n=Object(j.g)().id,e=Object(p.c)((function(n){return n.comments})).comments,t=Object(p.c)((function(n){return n.posts})),o=t.selectedPost,r=t.error,c=Object(s.useState)(!1),i=Object(q.a)(c,2),a=i[0],d=i[1],u=Object(p.b)(),b=Object(j.f)();Object(s.useEffect)((function(){u(H(n))}),[]);return r?Object(M.jsx)("h1",{children:r.toString()}):o&&Object(M.jsxs)("div",{children:[Object(M.jsxs)(mn,{children:[Object(M.jsx)(hn,{to:"/",onClick:function(){u(H(null))},children:"\u2b05 List of all posts"}),Object(M.jsx)(gn,{type:"button",onClick:function(){d(!a)},children:"edit post"}),Object(M.jsx)(vn,{type:"button",onClick:function(){u(J(parseInt(n,10))),b.push("/")},children:"delete post"})]}),a&&Object(M.jsx)(fn,{}),Object(M.jsx)("h2",{children:o.title}),Object(M.jsx)("div",{children:o.body}),Object(M.jsx)(sn,{}),e.length>0&&Object(M.jsx)(pn,{})]})},En=O.a.form(rn||(rn=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 40px;\n"]))),Sn=O.a.input(cn||(cn=Object(x.a)(["\n  margin: 8px 0;\n  width: 100%;\n  height: 40px;\n  border-radius: 14px;\n  border: 2px solid #5EC4CD;\n  padding: 10px;\n  color: #015C65;\n  :active,\n  :focus {\n    border-radius: 14px;\n    border: 2px solid #028E9B;\n    outline: none;\n  }\n"]))),Cn=O.a.textarea(an||(an=Object(x.a)(["\n  margin: 8px 0;\n  width: 100%;\n  height: 100px;\n  border-radius: 14px;\n  border: 2px solid #5EC4CD;\n  padding: 10px;\n  color: #015C65;\n  :active,\n  :focus {\n    border-radius: 14px;\n    border: 2px solid #028E9B;\n    outline: none;\n  }\n"]))),Tn=O.a.button(dn||(dn=Object(x.a)(["\n  padding: 12px 24px;\n  background: #FFB573;\n  border: 2px solid #BF7330;\n  border-radius: 14px;\n  cursor: pointer;\n  :hover {\n    background: #d08140;\n  }\n"]))),kn=function(){var n=Object(p.b)(),e=Object(s.useRef)(null),t=Object(s.useRef)(null);return Object(M.jsxs)(En,{onSubmit:function(o){o.preventDefault(),e.current.value&&t.current.value&&(n(z(e.current.value,t.current.value)),e.current.value="",t.current.value="")},children:[Object(M.jsx)(Sn,{type:"text",placeholder:"Title",ref:e}),Object(M.jsx)(Cn,{rows:"10",placeholder:"Post",ref:t}),Object(M.jsx)(Tn,{type:"submit",children:"Create Post"})]})};t(41);var _n=function(){return Object(M.jsx)(l.a,{children:Object(M.jsxs)("div",{className:"appWrapper",children:[Object(M.jsx)(kn,{}),Object(M.jsxs)(j.c,{children:[Object(M.jsx)(j.a,{exact:!0,path:"/",children:Object(M.jsx)(W,{})}),Object(M.jsx)(j.a,{exact:!0,path:"/post/:id",children:Object(M.jsx)(yn,{})})]})]})})},wn=t(43),Pn=t(25),Ln=t(26),Dn={comments:[]},Fn=t(7),Rn={listOfPosts:[],isLoading:!1,error:null,selectedPost:null},Bn=Object(wn.combineReducers)({comments:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _:return{comments:e.payload};default:return n}},posts:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(Fn.a)(Object(Fn.a)({},n),{},{isLoading:!0});case P:return Object(Fn.a)(Object(Fn.a)({},n),{},{isLoading:!1,listOfPosts:e.payload});case L:return Object(Fn.a)(Object(Fn.a)({},n),{},{isLoading:!1,error:e.payload});case D:return Object(Fn.a)(Object(Fn.a)({},n),{},{listOfPosts:n.listOfPosts.filter((function(n){return n.id!==e.payload}))});case F:return Object(Fn.a)(Object(Fn.a)({},n),{},{isLoading:!0});case R:return Object(Fn.a)(Object(Fn.a)({},n),{},{isLoading:!1,selectedPost:e.payload});case B:return Object(Fn.a)(Object(Fn.a)({},n),{},{isLoading:!1,error:e.payload});default:return n}}}),Nn=Object(wn.createStore)(Bn,Object(Ln.composeWithDevTools)(Object(wn.applyMiddleware)(Pn.a)));b.a.render(Object(M.jsx)(p.a,{store:Nn,children:Object(M.jsx)(_n,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.6a4fcdc0.chunk.js.map