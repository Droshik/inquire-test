(this["webpackJsonpinquire-test"]=this["webpackJsonpinquire-test"]||[]).push([[0],{33:function(n,e,t){},41:function(n,e,t){},42:function(n,e,t){"use strict";t.r(e);var r,o,c,i,a,d,s=t(0),u=t(16),b=t.n(u),p=(t(33),t(6)),l=t(12),j=t(5),x=t(3),O=t(4),f=O.a.div(r||(r=Object(x.a)(["\n  border: 2px solid #5ec4cd;\n  background: #e9f3f5;\n  border-radius: 14px;\n  padding: 20px;\n  margin-bottom: 12px;\n  position: relative;\n  :last-of-type {\n    margin-bottom: 0;\n  }\n"]))),h=O.a.h3(o||(o=Object(x.a)(["\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.4;\n  color: #015c65;\n  padding: 0 12px 0 0;\n  margin: 0;\n"]))),m=O.a.div(c||(c=Object(x.a)(["\n  padding: 12px 0;\n"]))),g=O.a.p(i||(i=Object(x.a)(["\n  font-size: 18px;\n  line-height: 1.4;\n  padding-bottom: 20px;\n"]))),v=O.a.button(a||(a=Object(x.a)(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  padding: 0 4px;\n  border: 2px solid #bf7330;\n  border-radius: 4px;\n  background: #ffb573;\n  cursor: pointer;\n"]))),y=Object(O.a)(l.b)(d||(d=Object(x.a)(["\n  text-decoration: none;\n  border: 2px solid #2f6065;\n  border-radius: 14px;\n  background: #77bcc3;\n  padding: 12px 24px;\n  color: #2f6065;\n  cursor: pointer;\n  :hover {\n    background: #287e86;\n  }\n"]))),E="https://bloggy-api.herokuapp.com/posts",S=new Headers;S.append("Content-Type","application/json");var C,T,k,_,w,P,L,F="comments/SET_COMMENTS_LIST",D="posts/FETCH_LIST_OF_POSTS",R="posts/FETCH_LIST_OF_POSTS_SUCCESS",B="posts/FETCH_LIST_OF_POSTS_ERROR",N="posts/DELETE_SELECTED_POST",H="posts/FETCH_SELECTED_POST",I="posts/FETCH_SELECTED_POST_SUCCESS",J="posts/FETCH_SELECTED_POST_ERROR",z=function(){return function(n){n({type:D}),fetch(E).then((function(n){if(n.ok)return n.json();throw new Error("can not load data")})).then((function(e){n({type:R,payload:e})})).catch((function(e){return n({type:B,payload:e})}))}},q=function(n){return function(e){n?(e({type:H}),function(n){return fetch("".concat(E,"/").concat(n,"?_embed=comments")).then((function(n){if(n.ok)return n.json();throw new Error("No post with this id")}))}(n).then((function(n){var t;e({type:I,payload:n}),e((t=n.comments,{type:F,payload:t}))})).catch((function(n){return e({type:J,payload:n})}))):e({type:I,payload:null})}},M=function(n,e){return function(t){(function(n,e){var t={method:"PUT",body:JSON.stringify(e),headers:S};return fetch("".concat(E,"/").concat(n),t)})(n,e).then((function(){t(q(n))}))}},U=function(n){return function(e){n&&function(n){var e={method:"DELETE",headers:S};return fetch("".concat(E,"/").concat(n),e)}(parseInt(n,10)).then((function(){e({type:N,payload:n})}))}},W=function(n,e){return function(t){(function(n){var e=JSON.stringify(n);return fetch(E,{method:"POST",body:e,headers:S})})({title:n,body:e}).then((function(n){return n})).then((function(){t(z())}))}},V=t(1),A=function(n){var e=n.postContent,t=e.id,r=e.body,o=e.title,c=Object(p.b)();return Object(V.jsxs)(f,{className:"post",children:[Object(V.jsx)(m,{className:"post__title",children:Object(V.jsx)(h,{children:o})}),Object(V.jsx)(g,{className:"post__body",children:r}),Object(V.jsx)(v,{type:"button",onClick:function(){c(U(e.id))},children:"X"}),Object(V.jsx)(y,{to:"post/".concat(t),children:"Show details"})]})},X=O.a.form(C||(C=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 40px;\n"]))),G=O.a.input(T||(T=Object(x.a)(["\n  margin: 8px 0;\n  width: 100%;\n  height: 40px;\n  border-radius: 14px;\n  border: 2px solid #5EC4CD;\n  padding: 10px;\n  color: #015C65;\n  :active,\n  :focus {\n    border-radius: 14px;\n    border: 2px solid #028E9B;\n    outline: none;\n  }\n"]))),K=O.a.textarea(k||(k=Object(x.a)(["\n  margin: 8px 0;\n  width: 100%;\n  height: 100px;\n  border-radius: 14px;\n  border: 2px solid #5EC4CD;\n  padding: 10px;\n  color: #015C65;\n  :active,\n  :focus {\n    border-radius: 14px;\n    border: 2px solid #028E9B;\n    outline: none;\n  }\n"]))),Q=O.a.button(_||(_=Object(x.a)(["\n  padding: 12px 24px;\n  background: #FFB573;\n  border: 2px solid #BF7330;\n  border-radius: 14px;\n  cursor: pointer;\n  :hover {\n    background: #d08140;\n  }\n"]))),Y=function(){var n=Object(p.b)(),e=Object(s.useRef)(null),t=Object(s.useRef)(null);return Object(V.jsxs)(X,{onSubmit:function(r){r.preventDefault(),e.current.value&&t.current.value&&(n(W(e.current.value,t.current.value)),e.current.value="",t.current.value="")},children:[Object(V.jsx)(G,{type:"text",placeholder:"Title",ref:e}),Object(V.jsx)(K,{rows:"10",placeholder:"Post",ref:t}),Object(V.jsx)(Q,{type:"submit",children:"Create Post"})]})},Z=function(){var n=Object(p.c)((function(n){return n.posts})),e=n.listOfPosts,t=n.error,r=n.isLoading,o=Object(p.b)();return Object(s.useEffect)((function(){o(z())}),[o]),r?Object(V.jsx)("h1",{children:"LOADER"}):t?Object(V.jsx)("h1",{children:t.toString()}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Y,{}),e.length&&e.map((function(n){return Object(V.jsx)(A,{postContent:n},n.id)}))]})},$=t(27),nn=O.a.label(w||(w=Object(x.a)(["\n  line-height: 1.5;\n  font-size: 18px;\n  font-weight: 500;\n  color: #015C65;\n"]))),en=O.a.textarea(P||(P=Object(x.a)(["\n  display: block;\n  margin: 8px 0;\n  width: 100%;\n  height: 100px;\n  border-radius: 14px;\n  border: 2px solid #5EC4CD;\n  padding: 10px;\n  color: #015C65;\n    :active,\n    :focus {\n      border-radius: 14px;\n      border: 2px solid #028E9B;\n      outline: none;\n    }\n"]))),tn=O.a.button(L||(L=Object(x.a)(["\n  padding: 12px 24px;\n  background: #FFB573;\n  border: 2px solid #BF7330;\n  border-radius: 14px;\n  cursor: pointer;\n  :hover {\n    background: #d08140;\n  }\n"]))),rn=new Headers;rn.append("Content-Type","application/json");var on,cn,an,dn,sn,un,bn,pn,ln,jn=function(){var n=Object(j.g)().id,e=Object(p.c)((function(n){return n.posts})).selectedPost,t=Object(s.useRef)("null"),r=Object(p.b)();return Object(V.jsxs)("form",{onSubmit:function(o){o.preventDefault(),t.current.value&&function(n){var e=JSON.stringify(n);return fetch("https://bloggy-api.herokuapp.com/comments",{method:"POST",body:e,headers:rn})}({postId:e.id,body:t.current.value}).then((function(){r(q(n))}))},children:[Object(V.jsxs)(nn,{htmlFor:"newComment",children:["Write a comment",Object(V.jsx)(en,{name:"comment",id:"newComment",rows:"3",placeholder:"Comment",ref:t})]}),Object(V.jsx)(tn,{type:"submit",children:"Send a comment"})]})},xn=O.a.div(on||(on=Object(x.a)(["\n  font-size: 16px;\n  line-height: 1.4;\n  background: #fde8d3;\n  border-radius: 14px;\n  margin: 12px 0;\n  padding: 12px;\n"]))),On=function(n){var e=n.commentData.body;return Object(V.jsx)(xn,{children:e})},fn=function(){var n=Object(p.c)((function(n){return n.comments})).comments;return Object(V.jsx)("div",{children:n.length>0&&n.map((function(n){return Object(V.jsx)(On,{commentData:n},n.id)}))})},hn=O.a.form(cn||(cn=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),mn=O.a.input(an||(an=Object(x.a)(["\n  margin: 8px 0;\n  width: 100%;\n  border-radius: 14px;\n  border: 2px solid #5ec4cd;\n  padding: 10px;\n  color: #015c65;\n  :active,\n  :focus {\n    border-radius: 14px;\n    border: 2px solid #028e9b;\n    outline: none;\n  }\n"]))),gn=O.a.textarea(dn||(dn=Object(x.a)(["\n  margin: 8px 0;\n  width: 100%;\n  border-radius: 14px;\n  border: 2px solid #5ec4cd;\n  padding: 10px;\n  color: #015c65;\n  :active,\n  :focus {\n    border-radius: 14px;\n    border: 2px solid #028e9b;\n    outline: none;\n  }\n"]))),vn=O.a.button(sn||(sn=Object(x.a)(["\n  padding: 12px 24px;\n  background: #ffb573;\n  border: 2px solid #bf7330;\n  border-radius: 14px;\n  cursor: pointer;\n\n  :hover {\n    background: #d08140;\n  }\n"]))),yn=function(){var n=Object(j.g)().id,e=Object(p.c)((function(n){return n.posts})).selectedPost,t=e.title,r=e.body,o=Object(p.b)(),c=Object(s.useRef)(null),i=Object(s.useRef)(null);return Object(V.jsxs)(hn,{onSubmit:function(e){e.preventDefault(),c.current.value&&i.current.value&&o(M(n,{title:c.current.value,body:i.current.value}))},children:[Object(V.jsx)(mn,{type:"text",id:"postEditorTitle",defaultValue:t,ref:c}),Object(V.jsx)(gn,{name:"",id:"postEditorBody",rows:"10",defaultValue:r,ref:i}),Object(V.jsx)(vn,{type:"submit",children:"Edit"})]})},En=Object(O.a)(l.b)(un||(un=Object(x.a)(["\n  text-decoration: none;\n  color: black;\n"]))),Sn=O.a.div(bn||(bn=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Cn=O.a.button(pn||(pn=Object(x.a)(["\n  text-decoration: none;\n  border: 2px solid #2f6065;\n  border-radius: 14px;\n  background: #77bcc3;\n  padding: 12px 24px;\n  color: #2f6065;\n  margin-left: auto;\n  margin-right: 12px;\n  cursor: pointer;\n  :hover {\n    background: #287e86;\n  }\n"]))),Tn=O.a.button(ln||(ln=Object(x.a)(["\n  text-decoration: none;\n  border: 2px solid darkred;\n  border-radius: 14px;\n  background: #ea6161;\n  padding: 12px 24px;\n  color: #2f6065;\n  cursor: pointer;\n\n  :hover {\n    background: #b32b2b;\n  }\n"]))),kn=function(){var n=Object(j.g)().id,e=Object(p.c)((function(n){return n.comments})).comments,t=Object(p.c)((function(n){return n.posts})),r=t.selectedPost,o=t.error,c=Object(s.useState)(!1),i=Object($.a)(c,2),a=i[0],d=i[1],u=Object(p.b)(),b=Object(j.f)();Object(s.useEffect)((function(){u(q(n))}),[]);return o?Object(V.jsx)("h1",{children:o.toString()}):r&&Object(V.jsxs)("div",{children:[Object(V.jsxs)(Sn,{children:[Object(V.jsx)(En,{to:"/",onClick:function(){u(q(null))},children:"\u2b05 List of all posts"}),Object(V.jsx)(Cn,{type:"button",onClick:function(){d(!a)},children:"edit post"}),Object(V.jsx)(Tn,{type:"button",onClick:function(){u(U(parseInt(n,10))),b.push("/")},children:"delete post"})]}),a&&Object(V.jsx)(yn,{}),Object(V.jsx)("h2",{children:r.title}),Object(V.jsx)("div",{children:r.body}),Object(V.jsx)(jn,{}),e.length>0&&Object(V.jsx)(fn,{})]})};t(41);var _n=function(){return Object(V.jsx)(l.a,{basename:"/inquire-test",children:Object(V.jsx)("div",{className:"appWrapper",children:Object(V.jsxs)(j.c,{children:[Object(V.jsx)(j.a,{exact:!0,path:"/",children:Object(V.jsx)(Z,{})}),Object(V.jsx)(j.a,{exact:!0,path:"/post/:id",children:Object(V.jsx)(kn,{})})]})})})},wn=t(43),Pn=t(25),Ln=t(26),Fn={comments:[]},Dn=t(7),Rn={listOfPosts:[],isLoading:!1,error:null,selectedPost:null},Bn=Object(wn.combineReducers)({comments:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:return{comments:e.payload};default:return n}},posts:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case D:return Object(Dn.a)(Object(Dn.a)({},n),{},{isLoading:!0});case R:return Object(Dn.a)(Object(Dn.a)({},n),{},{isLoading:!1,listOfPosts:e.payload});case B:return Object(Dn.a)(Object(Dn.a)({},n),{},{isLoading:!1,error:e.payload});case N:return Object(Dn.a)(Object(Dn.a)({},n),{},{listOfPosts:n.listOfPosts.filter((function(n){return n.id!==e.payload}))});case H:return Object(Dn.a)(Object(Dn.a)({},n),{},{isLoading:!0});case I:return Object(Dn.a)(Object(Dn.a)({},n),{},{isLoading:!1,selectedPost:e.payload});case J:return Object(Dn.a)(Object(Dn.a)({},n),{},{isLoading:!1,error:e.payload});default:return n}}}),Nn=Object(wn.createStore)(Bn,Object(Ln.composeWithDevTools)(Object(wn.applyMiddleware)(Pn.a)));b.a.render(Object(V.jsx)(p.a,{store:Nn,children:Object(V.jsx)(_n,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.017560ab.chunk.js.map